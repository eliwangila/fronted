<main>
  <div class="head">
    <div class="title">
      <img src="assets/blogger-logo.png" alt="">
      <h1>Welcome to Awward</h1>
    </div>

    <div class="search-box" *ngIf="blogs">
      <input type="text" #searchInput (change)="searchButtonHandler(searchInput)" value="{{search}}"
             placeholder="Search...">
      <div class="buttons">
        <i id="search" (click)="searchButtonHandler(searchInput)" class="fas fa-search"></i>
        <i id="redo" (click)="refreshButtonHandler()" class="fas fa-redo"></i>
      </div>
    </div>
  </div>

  <div class="blog-container" *ngIf="blogs">
    <div class="blog" *ngFor="let blog of blogs">
      <a routerLink="/blogs/{{blog.id}}">
        <img src="{{blog.image}}" alt="{{blog.title}} image">

        <div class="blog-title">
          <span>{{blog.topic}}</span>
          <h1>{{blog.title}}</h1>
        </div>
        <div class="blog-info">
          <p>{{blog.created_at}}</p>
          <p id="author">Author: {{blog.author.username}}</p>
        </div>

      </a>
    </div>
  </div>
  <div class="message" *ngIf="blogs?.length == 0"><p>No blogs with this topic or title!</p></div>

  <div class="message error" *ngIf="errorLoadingBlogs"><p>Error loading blogs! Check your connection!</p></div>

  <app-loading *ngIf="!blogs && !errorLoadingBlogs"></app-loading>
</main>
